{"version":3,"file":"bundle.js","names":[],"mappings":"","sources":["bundle.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nconsole.log(\"Initial: App\");\n\n// Require\nvar createDragDrop = require('./dragdrop'); \n\n// Create\nvar dragdrop = createDragDrop({\n\ttarget: document.getElementById('drop')\n}, function(files){\n\tconsole.log(\"APP, dragdrop:\", files);\n});\n},{\"./dragdrop\":2}],2:[function(require,module,exports){\nfunction createDragdrop(opts, dropCallback){\n\t'use strict';\n\n\tconsole.log(\"Initial: createDragdrop()\");\n\n\tif(opts === undefined) {\n\t\tconsole.error('createDragdrop: Need a target for drag and drop zone'); \n\t\treturn; \n\t} \n\n\tif(dropCallback === undefined){ \n\t\tconsole.error('createDragdrop: Need a callback, when file is dropped'); \n\t\treturn;\n\t}\n\n\n\tvar self = {};\n\tvar opts = opts || {};\n\tvar dropTarget = opts.target; \n\tvar files = [];\n\tvar toggle = false;\n\n\tinit();\n\n\tfunction init(){\n\t\teventHandlers();\n\t}\n\n\tfunction eventHandlers(){\n\t\twindow.ondragover = dragDropPreventDefault;\n\t\twindow.ondrop = dragDropPreventDefault;\n\n\t\tdropTarget.ondragover = ondragoverHandler;\n\t\tdropTarget.ondragleave = ondragleaveHandler;\n\t\tdropTarget.ondrop = ondropHandler;\n\t}\n\n\tfunction dragDropPreventDefault(e){\n\t\te.preventDefault(); \n\t\treturn false;\n\t}\n\n\tfunction ondragoverHandler(){\n\t\tif(toggle) return false;\n\n\t\tdropTarget.className = 'hover'; \n\t\t// console.log(dropTarget, \"ondragoverHandler\");\n\n\t\ttoggle = true;\n\t\treturn false; \n\t}\n\n\tfunction ondragleaveHandler(){\n\t\t// if(!toggle) return false;\n\n\t\tdropTarget.className = ''; \n\t\t// console.log(dropTarget, \"ondragleaveHandler\"); \n\n\t\ttoggle = false;\n\t\treturn false;\n\t}\n\n\tfunction ondropHandler(e){\n\t\te.preventDefault();\n\t\tconsole.log(\"ondropHandler()\");\n\n\t\tdropTarget.className = '';  \n\n\t\tfiles = [];\n\n\t\tfor (var i = 0; i < e.dataTransfer.files.length; ++i) {\n\t\t\tfiles.push(e.dataTransfer.files[i]);\n\t\t}\n\n\t\tdropCallback(files);\n\n\t\t\n\t\treturn false;\n\t}\n\n\n\treturn self;\n}\n\nmodule.exports = createDragdrop;\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}